%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Filters bank (initialization)
% version 6
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% INPUT:  ---
% OUTPUT: state = created state of filters bank:
%                 state.N
%                 state.freqs
%                 state.taps
%                 state.LF100_coeff ... state.HF4000_coeff
%                 state.LF100 ... state.HF4000
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function state = filter_bank_6_init

    % we shall use fixed point format - fract16 or (1.15), so
    % all coefficients are integer.
    K = 1.0/32768;
    
    state.freqs = [ 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1150, 1300, 1450, 1600, 1800, 2000, 2200, 2400, 2600, 2900, 3200, 3500, 4000];
    state.N     = length(state.freqs);
    vy          = zeros(1,state.N);
    state.taps  = 53;
    
    state.LF100_coeff  = K * [
                            336,    364,    392,    420,    448,    476,    503,    530,    556,   ...
                            581,    606,    630,    652,    674,    694,    713,    731,    747,   ...
                            762,    775,    787,    797,    805,    811,    816,    818,    819,   ...
                            818,    816,    811,    805,    797,    787,    775,    762,    747,   ...
                            731,    713,    694,    674,    652,    630,    606,    581,    556,   ...
                            530,    503,    476,    448,    420,    392,    364,    336
                         ];
    state.LF100        = my_filter_init(state.LF100_coeff);
    
    state.BF200_coeff  = K * [
                           -641,   -643,   -635,   -617,   -588,   -550,   -503,   -447,   -382,   ...
                           -310,   -231,   -148,    -60,     30,    122,    213,    303,    389,   ...
                            471,    547,    615,    675,    726,    766,    795,    813,    819,   ...
                            813,    795,    766,    726,    675,    615,    547,    471,    389,   ...
                            303,    213,    122,     30,    -60,   -148,   -231,   -310,   -382,   ...
                           -447,   -503,   -550,   -588,   -617,   -635,   -643,   -641
                         ];
    state.BF200        = my_filter_init(state.BF200_coeff);
    
    state.BF300_coeff  = K * [
                            246,    128,      0,   -132,   -264,   -389,   -503,   -600,   -675,   ...
                           -726,   -749,   -743,   -707,   -642,   -551,   -436,   -303,   -155,   ...
                              0,    157,    310,    451,    576,    679,    756,    803,    819,   ...
                            803,    756,    679,    576,    451,    310,    157,      0,   -155,   ...
                           -303,   -436,   -551,   -642,   -707,   -743,   -749,   -726,   -675,   ...
                           -600,   -503,   -389,   -264,   -132,      0,    128,    246
                         ];
    state.BF300        = my_filter_init(state.BF300_coeff);
    
    state.BF400_coeff  = K * [
                            418,    545,    635,    678,    671,    612,    503,    352,    171,   ...
                            -29,   -231,   -421,   -582,   -701,   -769,   -780,   -731,   -625,   ...
                           -471,   -279,    -63,    158,    370,    554,    698,    788,    819,   ...
                            788,    698,    554,    370,    158,    -63,   -279,   -471,   -625,   ...
                           -731,   -780,   -769,   -701,   -582,   -421,   -231,    -29,    171,   ...
                            352,    503,    612,    671,    678,    635,    545,    418
                         ];
    state.BF400        = my_filter_init(state.BF400_coeff);
    
    state.BF500_coeff  = K * [
                           -625,   -545,   -392,   -184,     54,    293,    503,    655,    729,   ...
                            712,    606,    421,    179,    -91,   -354,   -577,   -731,   -796,   ...
                           -762,   -632,   -423,   -158,    127,    399,    622,    768,    819,   ...
                            768,    622,    399,    127,   -158,   -423,   -632,   -762,   -796,   ...
                           -731,   -577,   -354,    -91,    179,    421,    606,    712,    729,   ...
                            655,    503,    293,     54,   -184,   -392,   -545,   -625
                         ];
    state.BF500        = my_filter_init(state.BF500_coeff);
    
    state.BF600_coeff  = K * [
                            150,   -128,   -392,   -592,   -688,   -658,   -503,   -250,     57,   ...
                            362,    606,    743,    744,    606,    354,     31,   -303,   -585,   ...
                           -762,   -800,   -690,   -451,   -127,    222,    531,    744,    819,   ...
                            744,    531,    222,   -127,   -451,   -690,   -800,   -762,   -585,   ...
                           -303,     31,    354,    606,    744,    743,    606,    362,     57,   ...
                           -250,   -503,   -658,   -688,   -592,   -392,   -128,    150
                         ];
    state.BF600        = my_filter_init(state.BF600_coeff);
    
    state.BF700_coeff  = K * [
                            489,    643,    635,    461,    161,   -190,   -503,   -694,   -711,   ...
                           -543,   -231,    148,    497,    725,    769,    617,    303,    -94,   ...
                           -471,   -731,   -807,   -675,   -370,     32,    427,    715,    819,   ...
                            715,    427,     32,   -370,   -675,   -807,   -731,   -471,    -94,   ...
                            303,    617,    769,    725,    497,    148,   -231,   -543,   -711,   ...
                           -694,   -503,   -190,    161,    461,    635,    643,    489
                         ];
    state.BF700        = my_filter_init(state.BF700_coeff);
    
    state.BF800_coeff  = K * [
                           -594,   -364,      0,    377,    638,    687,    503,    141,   -280,   ...
                           -615,   -749,   -630,   -293,    151,    551,    770,    731,    442,   ...
                              0,   -447,   -747,   -797,   -576,   -159,    313,    681,    819,   ...
                            681,    313,   -159,   -576,   -797,   -747,   -447,      0,    442,   ...
                            731,    770,    551,    151,   -293,   -630,   -749,   -615,   -280,   ...
                            141,    503,    687,    638,    377,      0,   -364,   -594
                         ];
    state.BF800        = my_filter_init(state.BF800_coeff);
    
    state.BF900_coeff  = K * [
                             50,   -364,   -635,   -637,   -361,     82,    503,    716,    623,   ...
                            256,   -231,   -630,   -763,   -567,   -122,    384,    731,    767,   ...
                            471,    -32,   -525,   -797,   -726,   -342,    191,    643,    819,   ...
                            643,    191,   -342,   -726,   -797,   -525,    -32,    471,    767,   ...
                            731,    384,   -122,   -567,   -763,   -630,   -231,    256,    623,   ...
                            716,    503,     82,   -361,   -637,   -635,   -364,     50
                         ];
    state.BF900        = my_filter_init(state.BF900_coeff);
    
    state.BF1000_coeff  = K * [
                            548,    643,    392,    -80,   -525,   -700,   -503,    -28,    475,   ...
                            735,    606,    148,   -400,   -743,   -694,   -272,    303,    723,   ...
                            762,    394,   -189,   -675,   -805,   -506,     64,    601,    819,   ...
                            601,     64,   -506,   -805,   -675,   -189,    394,    762,    723,   ...
                            303,   -272,   -694,   -743,   -400,    148,    606,    735,    475,   ...
                            -28,   -503,   -700,   -525,    -80,    392,    643,    548
                          ];
    state.BF1000        = my_filter_init(state.BF1000_coeff);
    
    state.BF1150_coeff  = K * [
                           -753,   -498,    127,    711,    841,    394,   -356,   -903,   -857,   ...
                           -216,    606,   1048,    789,    -22,   -847,  -1122,   -638,    294,   ...
                           1049,   1107,    415,   -570,  -1182,  -1002,   -144,    816,   1229,   ...
                            816,   -144,  -1002,  -1182,   -570,    415,   1107,   1049,    294,   ...
                           -638,  -1122,   -847,    -22,    789,   1048,    606,   -216,   -857,   ...
                           -903,   -356,    394,    841,    711,    127,   -498,   -753
                          ];
    state.BF1150        = my_filter_init(state.BF1150_coeff);
    
    state.BF1300_coeff  = K * [
                            749,    370,   -370,   -836,   -593,    193,    859,    805,     39,   ...
                           -803,   -980,   -306,    666,   1093,    582,   -454,  -1127,   -839,   ...
                            184,   1070,   1047,    118,   -924,  -1182,   -424,    702,   1229,   ...
                            702,   -424,  -1182,   -924,    118,   1047,   1070,    184,   -839,   ...
                          -1127,   -454,    582,   1093,    666,   -306,   -980,   -803,     39,   ...
                            805,    859,    193,   -593,   -836,   -370,    370,    749
                          ];
    state.BF1300        = my_filter_init(state.BF1300_coeff);
    
    state.BF1450_coeff  = K * [
                           -739,   -228,    576,    808,    170,   -697,   -859,    -94,    817,   ...
                            888,      0,   -929,   -894,    107,   1030,    875,   -224,  -1113,   ...
                           -832,    345,   1176,    767,   -465,  -1216,   -681,    579,   1229,   ...
                            579,   -681,  -1216,   -465,    767,   1176,    345,   -832,  -1113,   ...
                           -224,    875,   1030,    107,   -894,   -929,      0,    888,    817,   ...
                            -94,   -859,   -697,    170,    808,    576,   -228,   -739
                          ];
    state.BF1450        = my_filter_init(state.BF1450_coeff);
    
    state.BF1600_coeff  = K * [
                            726,     77,   -726,   -631,    302,    902,    356,   -689,   -892,   ...
                             59,    980,    668,   -525,  -1085,   -260,    929,    955,   -249,   ...
                          -1163,   -601,    743,   1156,     95,  -1099,   -900,    448,   1229,   ...
                            448,   -900,  -1099,     95,   1156,    743,   -601,  -1163,   -249,   ...
                            955,    929,   -260,  -1085,   -525,    668,    980,     59,   -892,   ...
                           -689,    356,    902,    302,   -631,   -726,     77,    726
                          ];
    state.BF1600        = my_filter_init(state.BF1600_coeff);
    
    state.BF1800_coeff  = K * [
                           -664,   -279,    635,    639,   -407,   -925,      0,   1030,    505,   ...
                           -884,   -980,    482,   1288,    106,  -1320,   -745,   1034,   1274,   ...
                           -471,  -1545,   -246,   1472,    946,  -1053,  -1453,    382,   1638,   ...
                            382,  -1453,  -1053,    946,   1472,   -246,  -1545,   -471,   1274,   ...
                           1034,   -745,  -1320,    106,   1288,    482,   -980,   -884,    505,   ...
                           1030,      0,   -925,   -407,    639,    635,   -279,   -664
                          ];
    state.BF1800        = my_filter_init(state.BF1800_coeff);
    
    state.BF2000_coeff  = K * [
                            305,    673,   -242,   -817,    140,    949,      0,  -1056,   -174,   ...
                           1130,    374,  -1163,   -592,   1149,    816,  -1085,  -1034,    971,   ...
                           1233,   -810,  -1402,    610,   1531,   -379,  -1611,    128,   1638,   ...
                            128,  -1611,   -379,   1531,    610,  -1402,   -810,   1233,    971,   ...
                          -1034,  -1085,    816,   1149,   -592,  -1163,    374,   1130,   -174,   ...
                          -1056,      0,    949,    140,   -817,   -242,    673,    305
                          ];
    state.BF2000        = my_filter_init(state.BF2000_coeff);
    
    state.BF2200_coeff  = K * [
                            305,   -673,   -242,    817,    140,   -949,      0,   1056,   -174,   ...
                          -1130,    374,   1163,   -592,  -1149,    816,   1085,  -1034,   -971,   ...
                           1233,    810,  -1402,   -610,   1531,    379,  -1611,   -128,   1638,   ...
                           -128,  -1611,    379,   1531,   -610,  -1402,    810,   1233,   -971,   ...
                          -1034,   1085,    816,  -1149,   -592,   1163,    374,  -1130,   -174,   ...
                           1056,      0,   -949,    140,    817,   -242,   -673,    305
                          ];
    state.BF2200        = my_filter_init(state.BF2200_coeff);
    
    state.BF2400_coeff  = K * [
                           -664,    279,    635,   -639,   -407,    925,      0,  -1030,    505,   ...
                            884,   -980,   -482,   1288,   -106,  -1320,    745,   1034,  -1274,   ...
                           -471,   1545,   -246,  -1472,    946,   1053,  -1453,   -382,   1638,   ...
                           -382,  -1453,   1053,    946,  -1472,   -246,   1545,   -471,  -1274,   ...
                           1034,    745,  -1320,   -106,   1288,   -482,   -980,    884,    505,   ...
                          -1030,      0,    925,   -407,   -639,    635,    279,   -664
                          ];
    state.BF2400        = my_filter_init(state.BF2400_coeff);
    
    state.BF2600_coeff  = K * [
                            475,    279,   -785,    322,    634,   -879,      0,    979,   -786,   ...
                           -445,   1212,   -482,   -922,   1245,      0,  -1318,   1034,    572,   ...
                          -1524,    593,   1113,  -1472,      0,   1499,  -1153,   -626,   1638,   ...
                           -626,  -1153,   1499,      0,  -1472,   1113,    593,  -1524,    572,   ...
                           1034,  -1318,      0,   1245,   -922,   -482,   1212,   -445,   -786,   ...
                            979,      0,   -879,    634,    322,   -785,    279,    475
                          ];
    state.BF2600        = my_filter_init(state.BF2600_coeff);
    
    state.BF2900_coeff  = K * [
                             55,   -128,      0,    301,   -438,    115,    503,   -819,    367,   ...
                            603,  -1212,    743,    559,  -1549,   1198,    352,  -1765,   1669,   ...
                              0,  -1812,   2079,   -451,  -1672,   2359,   -931,  -1362,   2458,   ...
                          -1362,   -931,   2359,  -1672,   -451,   2079,  -1812,      0,   1669,   ...
                          -1765,    352,   1198,  -1549,    559,    743,  -1212,    603,    367,   ...
                           -819,    503,    115,   -438,    301,      0,   -128,     55
                          ];
    state.BF2900        = my_filter_init(state.BF2900_coeff);
    
    state.BF3200_coeff  = K * [
                             50,   -151,    150,     43,   -361,    590,   -503,     33,    623,   ...
                          -1078,    980,   -261,   -763,   1520,  -1510,    625,    731,  -1823,   ...
                           1995,  -1065,   -525,   1923,  -2335,   1489,    191,  -1800,   2458,   ...
                          -1800,    191,   1489,  -2335,   1923,   -525,  -1065,   1995,  -1823,   ...
                            731,    625,  -1510,   1520,   -763,   -261,    980,  -1078,    623,   ...
                             33,   -503,    590,   -361,     43,    150,   -151,     50
                          ];
    state.BF3200        = my_filter_init(state.BF3200_coeff);
    
    state.BF3500_coeff  = K * [
                             45,   -151,    242,   -246,    111,    160,   -503,    803,   -933,   ...
                            797,   -374,   -261,    948,  -1482,   1674,  -1418,    731,    236,   ...
                          -1233,   1979,  -2244,   1923,  -1073,    -94,   1272,  -2139,   2458,   ...
                          -2139,   1272,    -94,  -1073,   1923,  -2244,   1979,  -1233,    236,   ...
                            731,  -1418,   1674,  -1482,    948,   -261,   -374,    797,   -933,   ...
                            803,   -503,    160,    111,   -246,    242,   -151,     45
                          ];
    state.BF3500        = my_filter_init(state.BF3500_coeff);
    
    state.HF4000_coeff  = K * [
                           -267,    151,      0,   -165,    321,   -441,    503,   -491,    398,   ...
                           -229,      0,    261,   -518,    730,   -858,    867,   -731,    440,   ...
                              0,   -568,   1225,  -1923,   2604,  -3210,   3686,  -3991,   4096,   ...
                          -3991,   3686,  -3210,   2604,  -1923,   1225,   -568,      0,    440,   ...
                           -731,    867,   -858,    730,   -518,    261,      0,   -229,    398,   ...
                           -491,    503,   -441,    321,   -165,      0,    151,   -267
                          ];
    state.HF4000        = my_filter_init(state.HF4000_coeff);

return
